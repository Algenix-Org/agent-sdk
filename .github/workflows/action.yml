name: AI Agent Action
description: Run an AI-powered task automation agent in your GitHub Actions workflow
inputs:
  task-input:
    description: 'JSON string defining the task to execute (e.g., {"input": "Hello"})'
    required: false
    default: '{}'
  task-file:
    description: Path to a JSON file containing the task definition
    required: false
  openai-api-key:
    description: OpenAI API key for AI processing
    required: true
  agent-name:
    description: Name of the AI agent
    required: false
    default: AIAgent
  log-level:
    description: Logging level (DEBUG, INFO, WARNING, ERROR)
    required: false
    default: INFO
outputs:
  result:
    description: JSON string containing the task execution result
runs:
  using: docker
  image: Dockerfile
  env:
    OPENAI_API_KEY: ${{ inputs.openai-api-key }}
    AGENT_NAME: ${{ inputs.agent-name }}
    GITHUB_TOKEN: ${{ github.token }}
    AGENT_LOG_LEVEL: ${{ inputs.log-level }}
    TASK_INPUT: ${{ inputs.task-input }}
    TASK_FILE: ${{ inputs.task-file }}
    GITHUB_REPOSITORY_VISIBILITY: ${{ github.event.repository.visibility }}
